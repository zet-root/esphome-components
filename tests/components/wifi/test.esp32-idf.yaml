psram:

# Tests the high performance request and release; requires the USE_WIFI_RUNTIME_POWER_SAVE define
esphome:
  platformio_options:
    build_flags:
      - "-DUSE_WIFI_RUNTIME_POWER_SAVE"
  on_boot:
    - then:
        - lambda: |-
            esphome::wifi::global_wifi_component->request_high_performance();
            esphome::wifi::global_wifi_component->release_high_performance();

wifi:
  use_psram: true
  min_auth_mode: WPA
  post_connect_roaming: false
  manual_ip:
    static_ip: 192.168.1.100
    gateway: 192.168.1.1
    subnet: 255.255.255.0
    dns1: 1.1.1.1
    dns2: 8.8.8.8
  ap:
    ssid: Fallback AP
    password: fallback_password
    manual_ip:
      static_ip: 192.168.4.1
      gateway: 192.168.4.1
      subnet: 255.255.255.0

captive_portal:

packages:
  - !include common.yaml
